# Repositório Central de Materiais do Curso de Arquitetura de Containers na AWS da LinuxTips 

## Repositório das Aulas - ECS

| Recurso / Aula                | Repositório                                                                                   |
|-------------------------------|-----------------------------------------------------------------------------------------------|
| VPC / Networking              | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-vpc)                 |
| ECS + EC2                     | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-ecs-cluster)         |
| ECS + Fargate                 | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-ecs-cluster-fargate) |
| ECS Service Module            | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-ecs-service-module)  |
| ECS Demo App (Mock)           | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-ecs-app)             |
| Mirror Pudim                  | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-ecs-service-pudim)   |
| Health API Demo               | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-ecs-health-api-lab)  |
| Health API (Aula Roteamento)   | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-ecs-health-api-lab/tree/aula-roteamento)  |
| Health API (Aula Service Connect)   | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-ecs-health-api-lab)  |
| Health API (Aula CodeDeploy)  | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-ecs-health-api-lab/tree/aula/codedeploy) |
| API Gateway + Custom Domain    | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-ecs-api-gateway) |
| Projeto Final ECS             | [Link do Github](/extras/ecs-projeto-final/) |

## Repositório das Aulas - EKS

| Recurso / Aula                | Repositório                                                                                                           |
|-------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| VPC / Networking              | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-networking)                          |
| EKS Basico (Vanilla)          | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla)                             |
| EKS - Estratégias de Node Groups  | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla/tree/aula/node_groups)   |
| EKS - Fargate (Fargate Profiles)   | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla/tree/aula/fargate)      |
| EKS - Cluster Full Fargate   | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla/tree/aula/fargate_full)       |
| EKS - Karpenter               | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla/tree/aula/karpenter)       |
| EKS - Karpenter Groupless   | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla/tree/aula/karpenter_groupless)       |
| EKS - AWS Load Balancer Controller   | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla/tree/aula/alb_controller)  |
| EKS - Nginx Controller   | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla/tree/aula/nginx_controller)       |
| EKS - Pod Identity, EBS S3 e EFS CSI Addons   | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla/tree/aula/csi)       |
| EKS - External Secrets com AWS Secrets Manager   | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla/tree/aula/external_secrets)       |
| EKS - EKS Automode   | [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-eks-vanilla/tree/aula/automode)       |


## Aulas ao Vivo + Abertas

| Recurso / Aula                | Repositório                                                                                   |
|-------------------------------|-----------------------------------------------------------------------------------------------|
| Live sobre ECS + Multiregion. | [Slide](https://docs.google.com/presentation/d/1AcBY7BwSOC9d9ZLM3OeacSQnieorqQEBHS_6wDGA6Ck/edit?usp=sharing) / [Live](https://www.youtube.com/live/8TYCUK_Rj7c?si=j1ZUA0axpZSWLUGN)
| Live sobre EKS + KNative. | [Slide](https://docs.google.com/presentation/d/1xdrcIRiC43UxXF4CYkPm6BK1U40fOKT4nKw0A6Ck5dw/edit?usp=sharing) / [Live](https://youtu.be/90fOQLbPPvo?si=LMjrqvGABvnmd524)
| Aula Otimização de Imagens    | [Slide](https://docs.google.com/presentation/d/1hFEZEmsO8dMC1iEryyYjfli_HCRF8xHBszF2r_araH4/edit?usp=sharing) / [Link do Github](https://github.com/msfidelis/linuxtips-curso-containers-aws-otimizacao-de-imagens) |
| Aula Deep Dive de Balanceadores de Carga | [Slide](https://docs.google.com/presentation/d/1yU_ZXag0nkYUzDfWqKialvCH0Ha4suX2Mj7abW8d3Cc/edit?usp=sharing) |
| Aula Deep Dive de Performance e Escalabilidade | [Slide](https://docs.google.com/presentation/d/1dNMh96FCYPoT2V1cCAOL2qQZpcZPwrhyLynnNU00KMs/edit?usp=sharing) |
| Aula Deep Dive Testes de Estresse | [Slide](https://docs.google.com/presentation/d/1GJGI409INJQe9J9AEKVwB0xkEhHUz-nICZkd5yoMmwI/edit?usp=sharing) / [Template de Teste](/extras/load-test/README.md) |
| Aula Engenharia de Confiabilidade | [Slide](https://docs.google.com/presentation/d/1P6QfGq72a2oNFGvgXYO-s2PPBNnFVLYjQy0f4wyIcik/edit?usp=sharing) /  |
| Aula Deep Dive de Patterns de Resiliência Parte 1 | [Slide](https://docs.google.com/presentation/d/14wmZUr4q0You42BZELxgzB9flX_yMvbQjz1xvhxcyOI/edit?usp=sharing) | 
| Aula Review Automode | [Slide](https://docs.google.com/presentation/d/1ohnLkDaNF3fU7QArDSzG8URs75__TCiabCY2gDMQfuA/edit?usp=sharing) | 


## Materiais Extras 

| Material                                          | Link                                                                                                                                              |
|---------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|
| Demo App: Chip                                    | [Link](https://github.com/msfidelis/chip)                                                                                                         |
| ECS Container Insights                            | [Link](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/ContainerInsights.html)                                                     |
| ECS optimized AMI                                 | [Link](https://docs.aws.amazon.com/systems-manager/latest/userguide/parameter-store-public-parameters-ecs.html)                                   |
| Amazon ECR                                        | [Link](https://aws.amazon.com/pt/ecr/)                                                                                                            |
| Amazon ECS Workshop                               | [Link](https://ecsworkshop.com/)                                                                                                                  |
| Amazon ECS Task Placement                         | [Link](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-placement-strategies.html)                                                |
| K6 Load Tests                                     | [Link](https://grafana.com/docs/k6/latest/using-k6/http-requests/)                                                                                |
| Cloudwatch - MetricAlarm                          | [Link](https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_MetricAlarm.html)                                                     |
| Cloudwatch Metrics Load balancer                  | [Link](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-cloudwatch-metrics.html#load-balancer-metrics-alb)       |
| Appautoscaling Target tracking scaling policies   | [Link](https://docs.aws.amazon.com/autoscaling/application/userguide/application-auto-scaling-target-tracking.html)                               |
| Appautoscaling PredefinedMetricSpecification      | [Link](https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PredefinedMetricSpecification.html)                                   |
| Appautoscaling CustomizedMetricSpecification      | [Link](https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_CustomizedMetricSpecification.html)                                           |
| Firecracker                                       | [Link](https://firecracker-microvm.github.io/)                                                                                                    | 
| Fargate Pricing Calculator                        | [Link](https://cloudtempo.dev/fargate-pricing-calculator)                                                                                         |
| Fargate Tasks Size                                | [Link](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/fargate-tasks-services.html#fargate-tasks-size)                                | 
| Amazon Elastic File System                        | [Link](https://aws.amazon.com/pt/efs/)                                                                                                            | 
| Amazon EFS Performance                            | [Link](https://docs.aws.amazon.com/efs/latest/ug/performance.html)                                                                                | 
| Sensitive data using Secrets Manager in ECS       | [Link](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data-tutorial.html)                                       | 
| AWS Secrets Manager vs Parameter Store            | [Link](https://tutorialsdojo.com/aws-secrets-manager-vs-systems-manager-parameter-store/)                                                         |
| CloudMap - Service Discovery                      | [Link](https://aws.amazon.com/pt/cloud-map/)                                                                                                      |
| Chainguard - Painless Vulnerability Management    | [Link](https://courses.chainguard.dev/vulnerability-management-certification)                                                                     |
| OpenAPI - Swagger Editor    | [Link](https://editor-next.swagger.io/)                                                                                                                                 |
| Set up CloudWatch logging for REST APIs in API Gateway    | [Link](https://docs.aws.amazon.com/apigateway/latest/developerguide/set-up-logging.html?icmpid=apigateway_console_help)                   |
| Customize HTTP API access logs                    | [Link](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-logging-variables.html)                                              |
| Conceitos Básicos Amazon EKS                      | [Link](https://aws.amazon.com/pt/eks/getting-started/)                                                                                            |
| VPC CIDR blocks                                   | [Link](https://docs.aws.amazon.com/vpc/latest/userguide/vpc-cidr-blocks.html#vpc-sizing-ipv4)                                                     | 
| EKS Best Practices                                  | [Link](https://aws.github.io/aws-eks-best-practices/)                                                     | 
| Terraform - Kubernetes Provider                    | [Link](https://registry.terraform.io/providers/hashicorp/kubernetes/latest/docs)          | 
| Terraform - Helm Provider                          | [Link](https://registry.terraform.io/providers/hashicorp/helm/latest/docs)            |
| Controlador de Recuperação de Aplicações da Amazon | [Link](https://aws.amazon.com/pt/application-recovery-controller/)                                                                                 | 
| Zonal autoshift in ARC                              | [Link](https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.html)                                                               | 
| Learn about Amazon Application Recovery Controller’s (ARC) Zonal Shift in Amazon EKS | [Link](https://docs.aws.amazon.com/eks/latest/userguide/zone-shift.html)                                        | 
| Amazon AWS - EC2 Graviton                          | [Link](https://aws.amazon.com/pt/pm/ec2-graviton/)                                                                                                | 
| Amazon AWS - EC2 Bottlerocket | [Link](https://aws.amazon.com/pt/bottlerocket/?amazon-bottlerocket-whats-new.sort-by=item.additionalFields.postDateTime&amazon-bottlerocket-whats-new.sort-order=desc) |
| Github - Bottlerocket                              | [Link](https://github.com/bottlerocket-os/bottlerocket)                                                                                           |
| Amazon EC2 - Instance Types                        | [Link](https://aws.amazon.com/ec2/instance-types/)                                                                                                |
| EC2 Instance Comparator                            | [Link](https://instances.vantage.sh)                                                                                                              |
| Amazon EKS - NodeGroups amiTypes                   | [Link](https://docs.aws.amazon.com/eks/latest/APIReference/API_Nodegroup.html#AmazonEKS-Type-Nodegroup-amiType)                                   |
| Node Termination Handler                           | [Link](https://github.com/aws/aws-node-termination-handler)                                                                                       |
| EC2 Instance Types AWS                             | [Link](https://aws.amazon.com/pt/ec2/instance-types/)                                                                                             |
| Recommended Amazon Linux AMI                       | [Link](https://docs.aws.amazon.com/eks/latest/userguide/retrieve-ami-id.html)                                                                     |
| Recommended Bottlerocket AMI                       | [Link](https://docs.aws.amazon.com/eks/latest/userguide/retrieve-ami-id.html)                                                                     |
| Terraform Kubectl Provider                         | [Link](https://docs.aws.amazon.com/eks/latest/userguide/retrieve-ami-id-bottlerocket.html)                                                        |



## Github Actions Úteis para Containers na AWS

| Nome                                    | Descrição                                                      | Link                                                                                  |
|-----------------------------------------|----------------------------------------------------------------|---------------------------------------------------------------------------------------|
| GolangCI                                | Um linter para Go                                              | [GolangCI](https://github.com/golangci/golangci-lint)                                 |
| Gofmt                                   | Ação para formatar código Go                                   | [Gofmt](https://github.com/Jerome1337/gofmt-action)                                   |
| Actions/Checkout                        | Ação para fazer checkout de um repositório                     | [Actions/Checkout](https://github.com/actions/checkout)                               |
| Setup Terraform                         | Ação para configurar o CLI do Terraform                        | [Setup Terraform](https://github.com/hashicorp/setup-terraform)                       |
| Terraform Docs                          | Gerar documentação para módulos Terraform                      | [Terraform Docs](https://github.com/Dirrk/terraform-docs)                             |
| AWS Actions/Render Task Definitions     | Renderizar templates de definição de tarefa do ECS             | [AWS Actions/Render Task Definitions](https://github.com/aws-actions/amazon-ecs-render-task-definition) |
| AWS Actions/Deploy Task Definitions     | Fazer deploy de definições de tarefa do ECS                    | [AWS Actions/Deploy Task Definitions](https://github.com/aws-actions/amazon-ecs-deploy-task-definition) |
| AWS Actions/Configure AWS Credentials   | Configurar variáveis de ambiente de credenciais AWS            | [AWS Actions/Configure AWS Credentials](https://github.com/aws-actions/configure-aws-credentials) |
| AWS Actions/ECR Login                   | Fazer login no Amazon ECR                                      | [AWS Actions/ECR Login](https://github.com/aws-actions/amazon-ecr-login)              |
| AWS Actions/Get Secrets                 | Recuperar segredos do AWS Secrets Manager                      | [AWS Actions/Get Secrets](https://github.com/aws-actions/aws-secretsmanager-get-secrets) |
| Docker Setup BuildX                     | Configurar Docker BuildX                                       | [Docker Setup BuildX](https://github.com/docker/setup-buildx-action)                 |
| AWS Assume Role                         | Assumir um papel IAM da AWS                                    | [AWS Assume Role](https://github.com/nordcloud/aws-assume-role/)                      |
| Phonito Docker Scan Image               | Escanear imagens Docker para vulnerabilidades                  | [Phonito Docker Scan Image](https://github.com/phonito/phonito-scanner-action)        |
| Anchore - Grype Container Scan          | Escanear imagens de contêiner para vulnerabilidades usando Grype| [Anchore - Grype Container Scan](https://github.com/anchore/scan-action)              |
| Snyk Security Scan                      | Escanear vulnerabilidades de segurança usando Snyk             | [Snyk Security Scan](https://github.com/snyk/actions)                                 |
| Awesome Actions List                    | Uma lista curada de ações incríveis                            | [Awesome Actions List](https://github.com/sdras/awesome-actions)                      |
| S3 Sync                                 | Sincronizar arquivos e diretórios com o S3                     | [S3 Sync](https://github.com/jakejarvis/s3-sync-action)                               |


# ECS 

## VPC / Networking

### Planejamento de Ranges da VPC Otimizada para Containers 

![Planejamento](./extras/vpc-planejamento.png)

### Planejamento de Uso e Componentes de Rede

![Planejamento](./extras/vpc-uso.png)

## ECS Module 

### Versões do Modulo Desenvolvido em Aula 

| Versão / Tag |  Descrição                                                                                                                                                                                                                                 |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [v1](https://github.com/msfidelis/linuxtips-curso-containers-ecs-service-module/tree/v1)              | Publicação inicial do modulo de ECS. Tudo que foi desenvolvido em aula até a aula de pipelines com Github Actions foi empacotado nessa versão     |
| [v1.1.0](https://github.com/msfidelis/linuxtips-curso-containers-ecs-service-module/tree/v1.1.0)      | Adicionado Suporte a montagem de volumes do Amazon EFS                                                                                            |
| [v1.2.0](https://github.com/msfidelis/linuxtips-curso-containers-ecs-service-module/tree/v1.2.0)      | Adicionando suporte a injeção de variáveis de ambiente vindas do Parameter Store e Secrets Manager                                                |
| [v1.3.0/1.3.1](https://github.com/msfidelis/linuxtips-curso-containers-ecs-service-module/tree/v1.3.1)      | Roteamento Dinâmico e Service Discovery com Cloudmap
| [v1.4.0](https://github.com/msfidelis/linuxtips-curso-containers-ecs-service-module/tree/v1.4.0)      | Adicionando Suporte ao Service Connect 
| [v1.5.0](https://github.com/msfidelis/linuxtips-curso-containers-ecs-service-module/tree/v1.5.0)      | Adicionando Suporte ao Code Deploy


# EKS 

## VPC Networking

![networking-eks](https://github.com/user-attachments/assets/41b47ef5-6ea6-4d2a-a9ce-821ab982543c)

